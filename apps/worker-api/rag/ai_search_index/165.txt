path: quickstarts/microsoft.digitaltwins/digitaltwins-with-function-time-series-database-connection
---
description: This template creates an Azure Digital Twins instance configured with a time series data history connection. In order to create a connection, other resources must be created such as an Event Hubs namespace, an event hub, Azure Data Explorer cluster, and a database. Data is sent to an event hub which eventually forwards the data to the Azure Data Explorer cluster. Data is stored in a database table in the cluster
page_type: sample
products:
- azure
- azure-resource-manager
urlFragment: digitaltwins-with-function-time-series-database-connection
languages:
- bicep
- json
---
# Azure Digital Twins with Time Data History Connection

This template creates an Azure Digital Twins instance with a time series data history connection. Other resources are also created such as an Event Hubs namespace, an event hub, an Azure Data Explorer cluster, and a database.
For more information about how data history works, see the following: [Data History Documentation](https://docs.microsoft.com/en-us/azure/digital-twins/concepts-data-history).`Tags: ``Tags: `