path: quickstarts/microsoft.cdn/cdn-with-ruleseengine-urlsigning
---
description: This template creates a CDN Profile and a CDN Endpoint with a user specified origin and all of our most commonly used settings on CDN. This template also configures rules engine UrlSigning action for default and override parameters.
page_type: sample
products:
- azure
- azure-resource-manager
urlFragment: cdn-with-ruleseengine-urlsigning
languages:
- json
- bicep
---
# Create a CDN Endpoint with UrlSigning action

This template creates a CDN Profile and a CDN Endpoint with a user specified origin and all of our most commonly used settings on CDN. This template also configures rules engine UrlSigning action for default and override parameters.

Before using the template, make sure to do the following:

1. Create a key vault in the same subscription or in a different subscription.
2. Define two secrets and set up secret values manually (at least 32 size)
3. References the two secrets in urlSigningKeys of the template (change subscriptionId, resourceGroupName, vaultName, secretName, secretVersion)
4. Make sure the keyvault is given "Get Permissions for Secret" access to "Microsoft.Azure.CDN" Principal.

`Tags: Microsoft.Cdn/profiles, Microsoft.Cdn/profiles/endpoints`
